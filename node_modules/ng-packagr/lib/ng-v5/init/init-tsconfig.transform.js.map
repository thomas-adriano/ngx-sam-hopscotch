{"version":3,"file":"init-tsconfig.transform.js","sourceRoot":"","sources":["../../../../src/lib/ng-v5/init/init-tsconfig.transform.ts"],"names":[],"mappings":";;;;;;;;;;AAGA,qDAAwE;AACxE,gDAAiE;AACjE,sCAAsC;AACtC,oCAAgE;AAEnD,QAAA,4BAA4B,GAAG,CAAC,eAAyB,EAAa,EAAE,CACnF,gCAAoB,CAAC,CAAM,KAAK,EAAC,EAAE;IACjC,2CAA2C;IAC3C,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,oBAAY,CAAC,CAAC;IAC/C,GAAG,CAAC,CAAC,IAAI,UAAU,IAAI,WAAW,CAAC,CAAC,CAAC;QACnC,GAAG,CAAC,KAAK,CAAC,6BAA6B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC9E,MAAM,QAAQ,GAAG,6BAAkB,CAAC,eAAe,EAAE,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzG,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACtC,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC,CAAA,CAAC,CAAC","sourcesContent":["import { ParsedConfiguration } from '@angular/compiler-cli';\nimport { BuildGraph } from '../../brocc/build-graph';\nimport { Node } from '../../brocc/node';\nimport { Transform, transformFromPromise } from '../../brocc/transform';\nimport { TsConfig, initializeTsConfig } from '../../ts/tsconfig';\nimport * as log from '../../util/log';\nimport { isEntryPointInProgress, isEntryPoint } from '../nodes';\n\nexport const initTsConfigTransformFactory = (defaultTsConfig: TsConfig): Transform =>\n  transformFromPromise(async graph => {\n    // Initialize tsconfig for each entry point\n    const entryPoints = graph.filter(isEntryPoint);\n    for (let entryPoint of entryPoints) {\n      log.debug(`Initializing tsconfig for ${entryPoint.data.entryPoint.moduleId}`);\n      const tsConfig = initializeTsConfig(defaultTsConfig, entryPoint.data.entryPoint, entryPoint.data.outDir);\n      entryPoint.data.tsConfig = tsConfig;\n    }\n\n    return graph;\n  });\n"]}