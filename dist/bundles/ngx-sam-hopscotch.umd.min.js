!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["ngx-sam-hopscotch"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var o=function(){function t(){}return t.prototype.title=function(t){return this._title=t,this},t.prototype.content=function(t){return this._content=t,this},t.prototype.target=function(t){return this._target=t,this},t.prototype.targetplacement=function(t){return this._targetplacement=t,this},t}(),r=function(){function e(t){this.id=e.DEFAULT_ID,this.steps=new Array,t&&(this.id=t)}return e.prototype.setId=function(t){this.id=t},e.prototype.addStep=function(t){t&&this.steps.push(Object.assign(new o,t))},e.prototype.getSteps=function(){return this.steps.map(function(t){return Object.assign(new o,t)})},e}();r.DEFAULT_ID="ngx-sam-hopscotch-tour-id";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;(function(t,e){t.exports=function(){var m,b,e,w,y,S,E,O,N,P,B,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D="bubble_default",n=window.Sizzle||null,H="undefined",I=!1,L=("undefined"==typeof jQuery?"undefined":A(jQuery))!==H,s=!1,i=!1,R=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,r={left:"right",right:"left"};try{A(window.sessionStorage)!==H&&(s=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),i=!0)}catch(t){}return P={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),(E={addClass:function(t,e){var n,o,r,i;if(t.className){for(o=e.split(/\s+/),n=" "+t.className+" ",r=0,i=o.length;r<i;++r)n.indexOf(" "+o[r]+" ")<0&&(n+=o[r]+" ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=e},removeClass:function(t,e){var n,o,r,i;for(o=e.split(/\s+/),n=" "+t.className+" ",r=0,i=o.length;r<i;++r)n=n.replace(" "+o[r]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")},hasClass:function(t,e){return!!t.className&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},getPixelValue:function(t){var e=void 0===t?"undefined":A(t);return"number"===e?t:"string"===e?parseInt(t,10):0},valOrDefault:function(t,e){return(void 0===t?"undefined":A(t))!==H?t:e},invokeCallbackArrayHelper:function(t){var e;return Array.isArray(t)&&"function"==typeof(e=N[t[0]])?e.apply(this,t.slice(1)):void 0},invokeCallbackArray:function(t){var e,n;if(Array.isArray(t)){if("string"==typeof t[0])return E.invokeCallbackArrayHelper(t);for(e=0,n=t.length;e<n;++e)E.invokeCallback(t[e])}},invokeCallback:function(t){return"function"==typeof t?t():"string"==typeof t&&N[t]?N[t]():E.invokeCallbackArray(t)},invokeEventCallbacks:function(t,e){var n,o,r=O[t];if(e)return this.invokeCallback(e);for(n=0,o=r.length;n<o;++n)this.invokeCallback(r[n].cb)},getScrollTop:function(){return A(window.pageYOffset)!==H?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){return A(window.pageXOffset)!==H?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(t,e,n){return t?t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n):void 0},removeEvtListener:function(t,e,n){return t?t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n):void 0},documentIsReady:function(){return"complete"===document.readyState},evtPreventDefault:function(t){t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)},extend:function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},getStepTargetHelper:function(t){var e=document.getElementById(t);if(e)return e;if(L)return(e=jQuery(t)).length?e[0]:null;if(n)return(e=new n(t)).length?e[0]:null;if(document.querySelector)try{return document.querySelector(t)}catch(b){}return/^#[a-zA-Z][\w-_:.]*$/.test(t)?document.getElementById(t.substring(1)):null},getStepTarget:function(t){var e;if(!t||!t.target)return null;if("string"==typeof t.target)return E.getStepTargetHelper(t.target);if(Array.isArray(t.target)){var n,o;for(n=0,o=t.target.length;n<o;n++)if("string"==typeof t.target[n]&&(e=E.getStepTargetHelper(t.target[n])))return e;return null}return t.target},getI18NString:function(t){return w[t]||e[t]},setState:function(t,e,n){var o,r="";if(s&&i)try{sessionStorage.setItem(t,e)}catch(y){i=!1,this.setState(t,e,n)}else s&&sessionStorage.removeItem(t),n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toGMTString()),document.cookie=t+"="+e+r+"; path=/"},getState:function(t){var e,n,o,r=t+"=",i=document.cookie.split(";");if(s&&(o=sessionStorage.getItem(t)))return o;for(e=0;e<i.length;e++){for(n=i[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(r)){o=n.substring(r.length,n.length);break}}return o},clearState:function(t){s?sessionStorage.removeItem(t):this.setState(t,"",-1)},normalizePlacement:function(t){!t.placement&&t.orientation&&(t.placement=t.orientation)},flipPlacement:function(t){if(t.isRtl&&!t._isFlipped){var e,n,o=["orientation","placement"];for(n in t.xOffset&&(t.xOffset=-1*this.getPixelValue(t.xOffset)),o)e=o[n],t.hasOwnProperty(e)&&r.hasOwnProperty(t[e])&&(t[e]=r[t[e]]);t._isFlipped=!0}}}).addEvtListener(window,"load",function(){I&&B.startTour()}),O={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},N={},e={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},w={},(m=function(t){this.init(t)}).prototype={isShowing:!1,currStep:void 0,setPosition:function(t){var e,n,o,r,i,s,l,a=E.getStepTarget(t),u=this.element,c=this.arrowEl,h=t.isRtl?"right":"left";if(E.flipPlacement(t),E.normalizePlacement(t),n=u.offsetWidth,e=u.offsetHeight,E.removeClass(u,"fade-in-down fade-in-up fade-in-left fade-in-right"),o=a.getBoundingClientRect(),l=t.isRtl?o.right-n:o.left,"top"===t.placement)r=o.top-e-this.opt.arrowWidth,i=l;else if("bottom"===t.placement)r=o.bottom+this.opt.arrowWidth,i=l;else if("left"===t.placement)r=o.top,i=o.left-n-this.opt.arrowWidth;else{if("right"!==t.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");r=o.top,i=o.right+this.opt.arrowWidth}(s="center"!==t.arrowOffset?E.getPixelValue(t.arrowOffset):t.arrowOffset)?"top"===t.placement||"bottom"===t.placement?(c.style.top="",c.style[h]="center"===s?Math.floor(n/2-c.offsetWidth/2)+"px":s+"px"):("left"===t.placement||"right"===t.placement)&&(c.style[h]="",c.style.top="center"===s?Math.floor(e/2-c.offsetHeight/2)+"px":s+"px"):(c.style.top="",c.style[h]=""),"center"===t.xOffset?i=o.left+a.offsetWidth/2-n/2:i+=E.getPixelValue(t.xOffset),"center"===t.yOffset?r=o.top+a.offsetHeight/2-e/2:r+=E.getPixelValue(t.yOffset),t.fixedElement||(r+=E.getScrollTop(),i+=E.getScrollLeft()),u.style.position=t.fixedElement?"fixed":"absolute",u.style.top=r+"px",u.style.left=i+"px"},render:function(t,e,n){var o,r,i,s,l,a,u,c,h,p,f=this.element;if(t?this.currStep=t:this.currStep&&(t=this.currStep),this.opt.isTourBubble?(s=B.getCurrTour())&&(r=s.customData,o=s.customRenderer,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:s.hasOwnProperty("isRtl")?s.isRtl:this.opt.isRtl,i=s.unsafe,Array.isArray(s.steps)&&(l=s.steps.length,a=this._getStepI18nNum(this._getStepNum(l-1)),c=this._getStepNum(e)===this._getStepNum(l-1))):(r=t.customData,o=t.customRenderer,i=t.unsafe,t.isRtl=t.hasOwnProperty("isRtl")?t.isRtl:this.opt.isRtl),u=c?E.getI18NString("doneBtn"):t.showSkip?E.getI18NString("skipBtn"):E.getI18NString("nextBtn"),E.flipPlacement(t),E.normalizePlacement(t),this.placement=t.placement,p={i18n:{prevBtn:E.getI18NString("prevBtn"),nextBtn:u,closeTooltip:E.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(e)),numSteps:a},buttons:{showPrev:E.valOrDefault(t.showPrevButton,this.opt.showPrevButton)&&0<this._getStepNum(e),showNext:E.valOrDefault(t.showNextButton,this.opt.showNextButton),showCTA:E.valOrDefault(t.showCTAButton&&t.ctaLabel,!1),ctaLabel:t.ctaLabel,showClose:E.valOrDefault(this.opt.showCloseButton,!0)},step:{num:e,isLast:E.valOrDefault(c,!1),title:t.title||"",content:t.content||"",isRtl:t.isRtl,placement:t.placement,padding:E.valOrDefault(t.padding,this.opt.bubblePadding),width:E.getPixelValue(t.width)||this.opt.bubbleWidth,customData:t.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:l,unsafe:E.valOrDefault(i,!1),customData:r||{}}},"function"==typeof o)f.innerHTML=o(p);else if("string"==typeof o){if(!B.templates||"function"!=typeof B.templates[o])throw new Error('Bubble rendering failed - template "'+o+'" is not a function.');f.innerHTML=B.templates[o](p)}else if(y)f.innerHTML=y(p);else{if(!B.templates||"function"!=typeof B.templates[D])throw new Error('Bubble rendering failed - template "'+D+'" is not a function.');f.innerHTML=B.templates[D](p)}var d,g=f.children,v=g.length;for(h=0;h<v;h++)d=g[h],E.hasClass(d,"hopscotch-arrow")&&(this.arrowEl=d);return f.style.zIndex="number"==typeof t.zindex?t.zindex:"",this._setArrow(t.placement),this.hide(!1),this.setPosition(t),n&&n(!t.fixedElement),this},_getStepNum:function(t){var e,n=0,o=B.getSkippedStepsIndexes(),r=o.length;for(e=0;e<r;e++)o[e]<t&&n++;return t-n},_getStepI18nNum:function(t){var e=E.getI18NString("stepNums");return e&&t<e.length?t=e[t]:t+=1,t},_setArrow:function(t){E.removeClass(this.arrowEl,"down up right left"),"top"===t?E.addClass(this.arrowEl,"down"):"bottom"===t?E.addClass(this.arrowEl,"up"):"left"===t?E.addClass(this.arrowEl,"right"):"right"===t&&E.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var t=this,e="fade-in-"+this._getArrowDirection();return E.removeClass(this.element,"hide"),E.addClass(this.element,e),setTimeout(function(){E.removeClass(t.element,"invisible")},50),setTimeout(function(){E.removeClass(t.element,e)},1e3),this.isShowing=!0,this},hide:function(t){var e=this.element;return t=E.valOrDefault(t,!0),e.style.top="",e.style.left="",t?(E.addClass(e,"hide"),E.removeClass(e,"invisible")):(E.removeClass(e,"hide"),E.addClass(e,"invisible")),E.removeClass(e,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var t=this.element;t&&t.parentNode.removeChild(t),E.removeEvtListener(t,"click",this.clickCb)},_handleBubbleClick:function(n){var e;if("cta"===(e=function t(e){return e===n.currentTarget?null:E.hasClass(e,"hopscotch-cta")?"cta":E.hasClass(e,"hopscotch-next")?"next":E.hasClass(e,"hopscotch-prev")?"prev":E.hasClass(e,"hopscotch-close")?"close":t(e.parentElement)}((n=n||window.event).target||n.srcElement)))this.opt.isTourBubble||B.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&E.invokeCallback(this.currStep.onCTA);else if("next"===e)B.nextStep(!0);else if("prev"===e)B.prevStep(!0);else if("close"===e){if(this.opt.isTourBubble){var o=B.getCurrStepNum()===B.getCurrTour().steps.length-1;E.invokeEventCallbacks("close"),B.endTour(!0,o)}else this.opt.onClose&&E.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?B.getCalloutManager().removeCallout(this.opt.id):this.destroy();E.evtPreventDefault(n)}},init:function(t){var e,n,o,r,i=document.createElement("div"),s=this,l=!1;this.element=i,r={showPrevButton:P.showPrevButton,showNextButton:P.showNextButton,bubbleWidth:P.bubbleWidth,bubblePadding:P.bubblePadding,arrowWidth:P.arrowWidth,isRtl:P.isRtl,showNumber:!0,isTourBubble:!0},t=(void 0===t?"undefined":A(t))===H?{}:t,E.extend(r,t),this.opt=r,i.className="hopscotch-bubble animated",r.isTourBubble?(o=B.getCurrTour())&&E.addClass(i,"tour-"+o.id):E.addClass(i,"hopscotch-callout no-number"),e=function(){!l&&s.isShowing&&(l=!0,setTimeout(function(){s.setPosition(s.currStep),l=!1},100))},E.addEvtListener(window,"resize",e),this.clickCb=function(t){s._handleBubbleClick(t)},E.addEvtListener(i,"click",this.clickCb),this.hide(),E.documentIsReady()?document.body.appendChild(i):(document.addEventListener?(n=function(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),document.body.appendChild(i)},document.addEventListener("DOMContentLoaded",n,!1)):(n=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n),document.body.appendChild(i))},document.attachEvent("onreadystatechange",n)),E.addEvtListener(window,"load",n))}},b=function(){var o={},r={};this.createCallout=function(t){var e;if(!t.id)throw new Error("Must specify a callout id.");if(!R.test(t.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(o[t.id])throw new Error("Callout by that id already exists. Please choose a unique id.");if(!E.getStepTarget(t))throw new Error("Must specify existing target element via 'target' option.");return t.showNextButton=t.showPrevButton=!1,t.isTourBubble=!1,e=new m(t),o[t.id]=e,r[t.id]=t,e.render(t,null,function(){e.show(),t.onShow&&E.invokeCallback(t.onShow)}),e},this.getCallout=function(t){return o[t]},this.removeAllCallouts=function(){var t;for(t in o)o.hasOwnProperty(t)&&this.removeCallout(t)},this.removeCallout=function(t){var e=o[t];o[t]=null,r[t]=null,e&&e.destroy()},this.refreshCalloutPositions=function(){var t,e,n;for(t in o)o.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(e=o[t],n=r[t],e&&n&&e.setPosition(n))}},B=new function(e){var r,n,s,a,u,l,c,h,o=this,p={},f=[],C=function(t){return r&&r.element&&r.element.parentNode||(r=new m(s)),t&&E.extend(r.opt,{bubblePadding:T("bubblePadding"),bubbleWidth:T("bubbleWidth"),showNextButton:T("showNextButton"),showPrevButton:T("showPrevButton"),showCloseButton:T("showCloseButton"),arrowWidth:T("arrowWidth"),isRtl:T("isRtl")}),r},T=function(t){return void 0===s?P[t]:E.valOrDefault(s[t],P[t])},k=function(){return!a||u<0||u>=a.steps.length?null:a.steps[u]},x=function(){o.nextStep()},d=function t(e,n){var o,r;0<=u+e&&u+e<a.steps.length?(u+=e,r=function(){E.getStepTarget(o)?(p[u]&&delete p[u],n(u)):(p[u]=!0,E.invokeEventCallbacks("error"),t(e,n))},(o=k()).delay?setTimeout(r,o.delay):r()):n(-1)},i=function(n,o){var t,r,i,e,s=C(),l=this;if(s.hide(),n=E.valOrDefault(n,!0),(t=k()).nextOnTargetClick&&E.removeEvtListener(E.getStepTarget(t),"click",x),r=t,i=0<o?r.multipage:0<u&&a.steps[u-1].multipage,e=function(t){var e;if(-1===t)return this.endTour(!0);if(n&&(e=0<o?E.invokeEventCallbacks("next",r.onNext):E.invokeEventCallbacks("prev",r.onPrev)),t===u){if(i)return void v();(e=E.valOrDefault(e,!0))?this.showStep(t):this.endTour(!1)}},!i&&T("skipIfNoElement"))d(o,function(t){e.call(l,t)});else if(0<=u+o&&u+o<a.steps.length){if(u+=o,t=k(),!E.getStepTarget(t)&&!i)return E.invokeEventCallbacks("error"),this.endTour(!0,!1);e.call(this,u)}else if(u+o===a.steps.length)return this.endTour();return this},g=function(t){function w(){e.show(),E.invokeEventCallbacks("show",y.onShow)}var y=a.steps[t],e=C(),S=E.getStepTarget(y);u!==t&&k().nextOnTargetClick&&E.removeEvtListener(E.getStepTarget(k()),"click",x),u=t,e.hide(!1),e.render(y,t,function(t){var n,e,o,r,i,s,l,a,u,c,h,p,f,d,g,v,m,b;t?(n=w,a=C().element,u=E.getPixelValue(a.style.top),c=u+E.getPixelValue(a.offsetHeight),h=E.getStepTarget(k()).getBoundingClientRect(),p=h.top+E.getScrollTop(),f=h.bottom+E.getScrollTop(),d=u<p?u:p,g=f<c?c:f,v=E.getScrollTop(),m=v+E.getWindowHeight(),b=d-T("scrollTopMargin"),v<=d&&(d<=v+T("scrollTopMargin")||g<=m)?n&&n():T("smoothScroll")?("undefined"==typeof YAHOO?"undefined":A(YAHOO))!==H&&A(YAHOO.env)!==H&&A(YAHOO.env.ua)!==H&&A(YAHOO.util)!==H&&A(YAHOO.util.Scroll)!==H?(e=YAHOO.env.ua.webkit?document.body:document.documentElement,r=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,(o=new YAHOO.util.Scroll(e,{scroll:{to:[0,b]}},T("scrollDuration")/1e3,r)).onComplete.subscribe(n),o.animate()):L?jQuery("body, html").animate({scrollTop:b},T("scrollDuration"),n):(b<0&&(b=0),i=d<v?-1:1,s=Math.abs(v-b)/(T("scrollDuration")/10),(l=function(){var t=E.getScrollTop(),e=t+i*s;return 0<i&&b<=e||i<0&&e<=b?(e=b,n&&n(),void window.scrollTo(0,e)):(window.scrollTo(0,e),E.getScrollTop()===t?void(n&&n()):void setTimeout(l,10))})()):(window.scrollTo(0,b),n&&n())):w(),y.nextOnTargetClick&&E.addEvtListener(S,"click",x)}),v()},v=function(){var t=a.id+":"+u,e=B.getSkippedStepsIndexes();e&&0<e.length&&(t+=":"+e.join(",")),E.setState(T("cookieName"),t,1)};this.getCalloutManager=function(){return(void 0===n?"undefined":A(n))===H&&(n=new b),n},this.startTour=function(t,e){var n,o={},r=this;if(!a){if(!t)throw new Error("Tour data is required for startTour.");if(!t.id||!R.test(t.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");(function(t){var e,n,o,r={};for(e in t)t.hasOwnProperty(e)&&"id"!==e&&"steps"!==e&&(r[e]=t[e]);return h.call(this,r,!0),(n=E.getState(T("cookieName")))&&(o=n.split(":"),l=o[0],c=o[1],2<o.length&&(f=o[2].split(",")),c=parseInt(c,10)),this}).call(this,a=t)}if((void 0===e?"undefined":A(e))!==H){if(e>=a.steps.length)throw new Error("Specified step number out of bounds.");n=e}if(!E.documentIsReady())return I=!0,this;if(void 0===n&&a.id===l&&(void 0===c?"undefined":A(c))!==H){if(n=c,0<f.length)for(var i=0,s=f.length;i<s;i++)o[f[i]]=!0}else n||(n=0);return function(t,e,n){var o,r;if(u=t||0,p=e||{},o=k(),r=E.getStepTarget(o))n(u);else if(!r){if(E.invokeEventCallbacks("error"),p[u]=!0,T("skipIfNoElement"))return d(1,n);n(u=-1)}}(n,o,function(t){return-1!==t&&E.getStepTarget(a.steps[t])?(E.invokeEventCallbacks("start"),C().hide(!1),r.isActive=!0,void(E.getStepTarget(k())?r.showStep(t):(E.invokeEventCallbacks("error"),T("skipIfNoElement")&&r.nextStep(!1)))):void r.endTour(!1,!1)}),this},this.showStep=function(t){var e=a.steps[t],n=u;return E.getStepTarget(e)?(e.delay?setTimeout(function(){g(t)},e.delay):g(t),this):(u=t,E.invokeEventCallbacks("error"),void(u=n))},this.prevStep=function(t){return i.call(this,t,-1),this},this.nextStep=function(t){return i.call(this,t,1),this},this.endTour=function(t,e){var n,o=C();return t=E.valOrDefault(t,!0),e=E.valOrDefault(e,!0),a&&(n=k())&&n.nextOnTargetClick&&E.removeEvtListener(E.getStepTarget(n),"click",x),c=void(u=0),o.hide(),t&&E.clearState(T("cookieName")),this.isActive&&(this.isActive=!1,a&&e&&E.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),r&&(r.destroy(),r=null),a=null,this},this.getCurrTour=function(){return a},this.getCurrTarget=function(){return E.getStepTarget(k())},this.getCurrStepNum=function(){return u},this.getSkippedStepsIndexes=function(){var t,e=[];for(t in p)e.push(t);return e},this.refreshBubblePosition=function(){var t=k();return t&&C().setPosition(t),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(t,e,n){return t&&O[t].push({cb:e,fromTour:n}),this},this.unlisten=function(t,e){var n,o,r=O[t];for(n=0,o=r.length;n<o;++n)r[n].cb===e&&r.splice(n,1);return this},this.removeCallbacks=function(t,e){var n,o,r,i;for(i in O)if(!t||t===i)if(e)for(o=0,r=(n=O[i]).length;o<r;++o)n[o].fromTour&&(n.splice(o--,1),--r);else O[i]=[];return this},this.registerHelper=function(t,e){"string"==typeof t&&"function"==typeof e&&(N[t]=e)},this.unregisterHelper=function(t){N[t]=null},this.invokeHelper=function(t){var e,n,o=[];for(e=1,n=arguments.length;e<n;++e)o.push(arguments[e]);N[t]&&N[t].call(null,o)},this.setCookieName=function(t){return s.cookieName=t,this},this.resetDefaultOptions=function(){return s={},this},this.resetDefaultI18N=function(){return w={},this},this.getState=function(){return E.getState(T("cookieName"))},h=function(t,e){var n,o,r,i=["next","prev","start","end","show","error","close"];for(s||this.resetDefaultOptions(),E.extend(s,t),t&&E.extend(w,t.i18n),o=0,r=i.length;o<r;++o)t[n="on"+i[o].charAt(0).toUpperCase()+i[o].substring(1)]&&this.listen(i[o],t[n],e);return C(!0),this},this.configure=function(t){return h.call(this,t,!1)},this.setRenderer=function(t){var e=void 0===t?"undefined":A(t);return"string"===e?(D=t,y=void 0):"function"===e&&(y=t),this},this.setEscaper=function(t){return"function"==typeof t&&(S=t),this},function(t){t&&this.configure(t)}.call(this,e)},function(){var a={escape:function(t){return S?S(t):null==t?"":(""+t).replace(new RegExp("[&<>\"']","g"),function(t){return"&"==t?"&amp;":"<"==t?"&lt;":">"==t?"&gt;":'"'==t?"&quot;":"'"==t?"&#x27;":void 0})}};this.templates=this.templates||{},this.templates.bubble_default=function(t){function e(t,e){return e?a.escape(t):t}var n,o="";o+="\n";var r=t.i18n,i=t.buttons,s=t.step,l=t.tour;return o+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(n=s.width)?"":n)+"px; padding: "+(null==(n=s.padding)?"":n)+'px;">\n  ',l.isTour&&(o+='<span class="hopscotch-bubble-number">'+(null==(n=r.stepNum)?"":n)+"</span>"),o+='\n  <div class="hopscotch-bubble-content">\n    ',""!==s.title&&(o+='<h3 class="hopscotch-title">'+(null==(n=e(s.title,l.unsafe))?"":n)+"</h3>"),o+="\n    ",""!==s.content&&(o+='<div class="hopscotch-content">'+(null==(n=e(s.content,l.unsafe))?"":n)+"</div>"),o+='\n  </div>\n  <div class="hopscotch-actions">\n    ',i.showPrev&&(o+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(n=r.prevBtn)?"":n)+"</button>"),o+="\n    ",i.showCTA&&(o+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(n=i.ctaLabel)?"":n)+"</button>"),o+="\n    ",i.showNext&&(o+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(n=r.nextBtn)?"":n)+"</button>"),o+="\n  </div>\n  ",i.showClose&&(o+='<button class="hopscotch-bubble-close hopscotch-close">'+(null==(n=r.closeTooltip)?"":n)+"</button>"),o+'\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n'}}.call(B),B}()})(i={exports:{}},i.exports);var i,s=function(){function t(){this.tour=new r}return t.prototype.addStep=function(t){return this.tour.addStep(t),this},t.prototype.getTour=function(){return this.tour},t.prototype.startTour=function(){hopscotch.startTour(this.tour)},t}();s.decorators=[{type:e.Injectable}],s.ctorParameters=function(){return[]};var l=function(){function t(t,e){this.el=t,this.hopsctochConfigs=e}return t.prototype.ngOnInit=function(){this.initHopscotchTour()},t.prototype.onMouseEnter=function(){this.highlight("red")},t.prototype.onMouseLeave=function(){this.highlight(null)},t.prototype.highlight=function(t){this.el.nativeElement.style.backgroundColor=t},t.prototype.initHopscotchTour=function(){this.hopsctochConfigs.addStep((new o).title("My Header").content("This is the header of my page").target(this.el.nativeElement).targetplacement("right"))},t}();l.decorators=[{type:e.Directive,args:[{selector:"[samHopscotchStep]"}]}],l.ctorParameters=function(){return[{type:e.ElementRef},{type:s}]},l.propDecorators={onMouseEnter:[{type:e.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave"]}]};var a=function(){};a.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[s],declarations:[l],exports:[l]}]}],a.ctorParameters=function(){return[]},t.NgxSamHopscotchModule=a,t.HopscotchStep=o,t.HopscotchTour=r,t.SamHopsctochConfigsService=s,t.ɵa=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-sam-hopscotch.umd.min.js.map
